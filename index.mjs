// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.2.2-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";function n(n,f,o){var m,l,d,a,h,p,u,j,v,b,g,c;if(!r(n))throw new TypeError(s("1Hf4b",n));if(m=new i(2*n),g=n-1,v=0,j=-1,b=0,arguments.length>1){if(!e(f))throw new TypeError(s("1Hf4A",f));if(!e(o))throw new TypeError(s("1Hf4B",o));return p=f,u=o,function(r,e){var i,s;if(0===arguments.length)return 0===b?null:b<n?v/b:v/n;if(c=2*(j=(j+1)%n),t(r)||t(e))b=n,v=NaN;else{if(b<n)return m[c]=r,m[c+1]=e,(v+=(r-p)*(e-u))/(b+=1);if(t(m[c])||t(m[c+1])){for(v=0,i=0;i<n;i++)if((s=2*i)!==c){if(t(m[s])||t(m[s+1])){b=n,v=NaN;break}v+=(m[s]-p)*(m[s+1]-u)}}else!1===t(v)&&(v+=(r-p)*(e-u)-(m[c]-p)*(m[c+1]-u))}return m[c]=r,m[c+1]=e,v/n}}return p=0,u=0,function(r,e){var i,s,f,o;if(0===arguments.length)return 0===b?null:1===b?0:b<n?v/(b-1):v/g;if(c=2*(j=(j+1)%n),t(r)||t(e))b=n,v=NaN;else{if(b<n)return m[c]=r,m[c+1]=e,p+=(d=r-p)/(b+=1),v+=d*(e-(u+=(e-u)/b)),1===b?0:v/(b-1);if(1===b)return 0;if(t(m[c])||t(m[c+1])){for(b=1,p=r,u=e,v=0,f=0;f<n;f++)if((o=2*f)!==c){if(i=m[o],s=m[o+1],t(i)||t(s)){b=n,v=NaN;break}p+=(d=i-p)/(b+=1),v+=d*(s-(u+=(s-u)/b))}}else!1===t(v)&&(l=m[c]-p,a=m[c+1]-u,v+=(d=r-p)*(h=e-u)-l*a-(d-l)*(h-a)/n,p+=(d-l)/n,u+=(h-a)/n)}return m[c]=r,m[c+1]=e,v/g}}export{n as default};
//# sourceMappingURL=index.mjs.map
