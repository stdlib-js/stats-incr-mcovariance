// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.1.0-esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.1.1-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@v0.1.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@v0.1.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";function s(s,a,m){var f,u,l,o,d,v,h,g,p,j,b,c;if(!e(s))throw new TypeError(n("invalid argument. First argument must be a positive integer. Value: `%s`.",s));if(f=new i(2*s),b=s-1,p=0,g=-1,j=0,arguments.length>1){if(!r(a))throw new TypeError(n("invalid argument. Second argument must be a number. Value: `%s`.",a));if(!r(m))throw new TypeError(n("invalid argument. Third argument must be a number. Value: `%s`.",m));return v=a,h=m,w}return v=0,h=0,N;function N(e,r){var i,n,a,m;if(0===arguments.length)return 0===j?null:1===j?0:j<s?p/(j-1):p/b;if(c=2*(g=(g+1)%s),t(e)||t(r))j=s,p=NaN;else{if(j<s)return f[c]=e,f[c+1]=r,v+=(l=e-v)/(j+=1),p+=l*(r-(h+=(r-h)/j)),1===j?0:p/(j-1);if(1===j)return 0;if(t(f[c])||t(f[c+1])){for(j=1,v=e,h=r,p=0,a=0;a<s;a++)if((m=2*a)!==c){if(i=f[m],n=f[m+1],t(i)||t(n)){j=s,p=NaN;break}v+=(l=i-v)/(j+=1),p+=l*(n-(h+=(n-h)/j))}}else!1===t(p)&&(u=f[c]-v,o=f[c+1]-h,p+=(l=e-v)*(d=r-h)-u*o-(l-u)*(d-o)/s,v+=(l-u)/s,h+=(d-o)/s)}return f[c]=e,f[c+1]=r,p/b}function w(e,r){var i,n;if(0===arguments.length)return 0===j?null:j<s?p/j:p/s;if(c=2*(g=(g+1)%s),t(e)||t(r))j=s,p=NaN;else{if(j<s)return f[c]=e,f[c+1]=r,(p+=(e-v)*(r-h))/(j+=1);if(t(f[c])||t(f[c+1])){for(p=0,i=0;i<s;i++)if((n=2*i)!==c){if(t(f[n])||t(f[n+1])){j=s,p=NaN;break}p+=(f[n]-v)*(f[n+1]-h)}}else!1===t(p)&&(p+=(e-v)*(r-h)-(f[c]-v)*(f[c+1]-h))}return f[c]=e,f[c+1]=r,p/s}}export{s as default};
//# sourceMappingURL=index.mjs.map
